<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Use-Case Canvas - Toolkit de IA</title>    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/ia-use-case-canvas.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="javascript:history.back()" class="back-button">Atras</a>
            <h1>üìã AI Use-Case Canvas</h1>
            <p>Estructurar y documentar la propuesta de caso de uso en la fase inicial (Intake)</p>
        </div>
        
        <div class="sidebar">
            <div class="nav-section">
                <div class="nav-section-title">üìã Secciones del Canvas</div>
                <a href="#seccion1" class="nav-item active">1. Identificaci√≥n del Caso de Uso</a>
                <a href="#seccion2" class="nav-item">2. Contexto y Prop√≥sito</a>
                <a href="#seccion3" class="nav-item">3. Actores Involucrados</a>
                <a href="#seccion4" class="nav-item">4. Datos Requeridos</a>
                <a href="#seccion5" class="nav-item">5. Revisi√≥n Legal</a>
                <a href="#seccion6" class="nav-item">6. Clasificaci√≥n de Riesgo</a>
                <a href="#seccion7" class="nav-item">7. Identificaci√≥n de Riesgos</a>
                <a href="#seccion8" class="nav-item">8. M√©tricas de √âxito</a>
                <a href="#seccion9" class="nav-item">9. Plan de Despliegue</a>
                <a href="#seccion10" class="nav-item">10. Monitoreo y Auditor√≠a</a>
                <a href="#seccion11" class="nav-item">11. Plan de Fin de Vida</a>
                <a href="#seccion12" class="nav-item">12. Aprobaciones</a>
            </div>
            
            <div class="json-panel">
                <div class="json-title">üîÑ Gesti√≥n de Datos</div>
                <div class="json-actions">
                    <input type="file" id="jsonFileInput" accept=".json" style="display: none;">
                    <button class="json-btn import" onclick="document.getElementById('jsonFileInput').click()">Importar desde JSON</button>
                    <button class="json-btn export" onclick="exportarJSON()">Exportar a JSON</button>
                    <button class="json-btn print" onclick="imprimirFormulario()">üñ®Ô∏è Imprimir Formulario</button>
                    <button class="json-btn" onclick="cargarEjemplo()" style="background: #9c27b0; color: white;">Cargar Ejemplo</button>
                    <button class="json-btn" onclick="limpiarFormulario()" style="background: #f44336; color: white;">Limpiar Todo</button>
                </div>
            </div>
        </div>
        
        <div class="content">
            <div class="canvas-grid">
                <!-- Secci√≥n 1: Identificaci√≥n del Caso de Uso -->
                <div class="section-card" id="seccion1">
                    <div class="section-header">
                        <div class="section-icon">üìù</div>
                        <div class="section-title">Secci√≥n 1: Identificaci√≥n del Caso de Uso</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="titulo">T√≠tulo descriptivo del caso de uso</label>
                            <input type="text" id="titulo" placeholder="Ej: Sistema de clasificaci√≥n autom√°tica de solicitudes ciudadanas">
                        </div>
                        <div class="form-group">
                            <label for="entidad">Entidad y unidad organizacional responsable</label>
                            <input type="text" id="entidad" placeholder="Ej: Secretar√≠a de Gobierno - Direcci√≥n de Atenci√≥n al Ciudadano">
                        </div>
                        <div class="form-group">
                            <label for="sponsor">Sponsor de Negocio (nombre, cargo, contacto)</label>
                            <input type="text" id="sponsor" placeholder="Ej: Mar√≠a Gonz√°lez, Directora de Atenci√≥n al Ciudadano, mgonzalez@entidad.gov.co">
                        </div>
                        <div class="form-group">
                            <label for="responsable">Responsable T√©cnico (nombre, cargo, contacto)</label>
                            <input type="text" id="responsable" placeholder="Ej: Carlos L√≥pez, Jefe de Desarrollo, clopez@entidad.gov.co">
                        </div>
                        <div class="form-group">
                            <label for="fecha">Fecha de elaboraci√≥n y versi√≥n</label>
                            <input type="text" id="fecha" placeholder="Ej: 15/10/2023 - v1.0">
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 2: Contexto y Prop√≥sito -->
                <div class="section-card" id="seccion2">
                    <div class="section-header">
                        <div class="section-icon">üéØ</div>
                        <div class="section-title">Secci√≥n 2: Contexto y Prop√≥sito</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="problema">Descripci√≥n del problema o necesidad (m√°ximo 200 palabras)</label>
                            <textarea id="problema" placeholder="Describa el problema espec√≠fico que busca resolver con esta soluci√≥n de IA"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="servicio">Servicio, tr√°mite o proceso al que aplica</label>
                            <input type="text" id="servicio" placeholder="Ej: Proceso de recepci√≥n y clasificaci√≥n de PQRS">
                        </div>
                        <div class="form-group">
                            <label for="proposito">Prop√≥sito espec√≠fico del sistema de IA</label>
                            <input type="text" id="proposito" placeholder="¬øQu√© debe hacer el sistema de IA?">
                        </div>
                        <div class="form-group">
                            <label for="tipo">Tipo de sistema de IA</label>
                            <select id="tipo">
                                <option value="">Seleccione una opci√≥n</option>
                                <option value="clasificacion">Clasificaci√≥n</option>
                                <option value="regresion">Regresi√≥n</option>
                                <option value="generacion">Generaci√≥n de lenguaje</option>
                                <option value="recomendacion">Recomendaci√≥n</option>
                                <option value="vision">Visi√≥n por computadora</option>
                                <option value="procesamiento">Procesamiento de lenguaje natural</option>
                                <option value="otros">Otros</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="resultados">Resultados esperados (cuantificables cuando sea posible)</label>
                            <textarea id="resultados" placeholder="Ej: Reducci√≥n del 40% en tiempo de clasificaci√≥n, aumento del 25% en precisi√≥n de categorizaci√≥n"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 3: Actores Involucrados -->
                <div class="section-card" id="seccion3">
                    <div class="section-header">
                        <div class="section-icon">üë•</div>
                        <div class="section-title">Secci√≥n 3: Actores Involucrados</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="usuarios">Usuarios finales del sistema</label>
                            <input type="text" id="usuarios" placeholder="Ej: Funcionarios de atenci√≥n al ciudadano, ciudadanos">
                        </div>
                        <div class="form-group">
                            <label for="perfil">Perfil de usuarios (nivel de alfabetizaci√≥n digital, accesibilidad, diversidad)</label>
                            <textarea id="perfil" placeholder="Describa el perfil de los usuarios finales"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="propietario">Propietario de Datos (responsable de datos utilizados)</label>
                            <input type="text" id="propietario" placeholder="Ej: Direcci√≥n de Sistemas - Base de datos de PQRS">
                        </div>
                        <div class="form-group">
                            <label for="stakeholders">Stakeholders afectados por decisiones del sistema</label>
                            <textarea id="stakeholders" placeholder="Liste los stakeholders que pueden verse afectados por las decisiones del sistema"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Roles de gobernanza involucrados</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="dpo" name="rolesGobernanza" value="dpo">
                                    <label for="dpo">DPO</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="tic" name="rolesGobernanza" value="tic">
                                    <label for="tic">TIC/Seguridad</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="juridica" name="rolesGobernanza" value="juridica">
                                    <label for="juridica">Jur√≠dica</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="comite" name="rolesGobernanza" value="comite">
                                    <label for="comite">Comit√© de IA</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 4: Datos Requeridos -->
                <div class="section-card" id="seccion4">
                    <div class="section-header">
                        <div class="section-icon">üìä</div>
                        <div class="section-title">Secci√≥n 4: Datos Requeridos</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="fuentes">Fuentes de datos</label>
                            <textarea id="fuentes" placeholder="Internas, externas, terceros"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Categor√≠as de datos</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="personales" name="categoriasDatos" value="personales">
                                    <label for="personales">Personales</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="sensibles" name="categoriasDatos" value="sensibles">
                                    <label for="sensibles">Sensibles</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="publicos" name="categoriasDatos" value="publicos">
                                    <label for="publicos">P√∫blicos</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="volumen">Volumen estimado de datos y frecuencia de actualizaci√≥n</label>
                            <input type="text" id="volumen" placeholder="Ej: 50,000 registros, actualizaci√≥n mensual">
                        </div>
                        <div class="form-group">
                            <label for="calidad">Evaluaci√≥n preliminar de calidad y representatividad de datos</label>
                            <textarea id="calidad" placeholder="Describa la calidad y representatividad de los datos disponibles"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="privacidad">Evaluaci√≥n preliminar de privacidad</label>
                            <textarea id="privacidad" placeholder="¬øIncluye datos personales? ¬ødatos sensibles?"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 5: Revisi√≥n Legal y Bases Jur√≠dicas -->
                <div class="section-card" id="seccion5">
                    <div class="section-header">
                        <div class="section-icon">‚öñÔ∏è</div>
                        <div class="section-title">Secci√≥n 5: Revisi√≥n Legal y Bases Jur√≠dicas</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="baseServicio">Base legal para la prestaci√≥n del servicio p√∫blico correspondiente</label>
                            <textarea id="baseServicio" placeholder="Describa la base legal para el servicio p√∫blico"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Base legal para tratamiento de datos personales (si aplica)</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="consentimiento" name="baseLegal" value="consentimiento">
                                    <label for="consentimiento">Consentimiento</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="contrato" name="baseLegal" value="contrato">
                                    <label for="contrato">Ejecuci√≥n de contrato</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cumplimiento" name="baseLegal" value="cumplimiento">
                                    <label for="cumplimiento">Cumplimiento legal</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="interes" name="baseLegal" value="interes">
                                    <label for="interes">Inter√©s leg√≠timo</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="funcion" name="baseLegal" value="funcion">
                                    <label for="funcion">Funci√≥n p√∫blica</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="normativa">Identificaci√≥n de normativa espec√≠fica aplicable (sectorial, territorial)</label>
                            <textarea id="normativa" placeholder="Liste la normativa aplicable"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="evaluacionLegal">Evaluaci√≥n preliminar de conformidad legal por √°rea Jur√≠dica</label>
                            <textarea id="evaluacionLegal" placeholder="Describa la evaluaci√≥n preliminar de conformidad legal"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 6: Clasificaci√≥n Preliminar de Riesgo -->
                <div class="section-card" id="seccion6">
                    <div class="section-header">
                        <div class="section-icon">‚ö†Ô∏è</div>
                        <div class="section-title">Secci√≥n 6: Clasificaci√≥n Preliminar de Riesgo</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Aplicaci√≥n de criterios de clasificaci√≥n (AI Act)</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="derechos" name="criteriosClasificacion" value="derechos">
                                    <label for="derechos">¬øAfecta derechos fundamentales?</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="servicios" name="criteriosClasificacion" value="servicios">
                                    <label for="servicios">¬øServicios esenciales?</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="decisiones" name="criteriosClasificacion" value="decisiones">
                                    <label for="decisiones">¬øDecisiones sobre personas?</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="biometria" name="criteriosClasificacion" value="biometria">
                                    <label for="biometria">¬øBiometr√≠a?</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Clasificaci√≥n preliminar</label>
                            <div class="risk-levels">
                                <div class="risk-level inaceptable" data-level="inaceptable">Inaceptable</div>
                                <div class="risk-level alto" data-level="alto">Alto</div>
                                <div class="risk-level limitado" data-level="limitado">Limitado</div>
                                <div class="risk-level minimo" data-level="minimo">M√≠nimo</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="justificacion">Justificaci√≥n de la clasificaci√≥n</label>
                            <textarea id="justificacion" placeholder="Explique la justificaci√≥n para la clasificaci√≥n seleccionada"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 7: Identificaci√≥n Preliminar de Riesgos -->
                <div class="section-card" id="seccion7">
                    <div class="section-header">
                        <div class="section-icon">üîç</div>
                        <div class="section-title">Secci√≥n 7: Identificaci√≥n Preliminar de Riesgos</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="riesgosEticos">Riesgos √©ticos (discriminaci√≥n, autonom√≠a, dignidad)</label>
                            <textarea id="riesgosEticos" placeholder="Identifique riesgos √©ticos potenciales"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="riesgosPrivacidad">Riesgos de privacidad (re-identificaci√≥n, uso secundario, brechas)</label>
                            <textarea id="riesgosPrivacidad" placeholder="Identifique riesgos de privacidad potenciales"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="riesgosSeguridad">Riesgos de seguridad (ataques, fallos, manipulaci√≥n)</label>
                            <textarea id="riesgosSeguridad" placeholder="Identifique riesgos de seguridad potenciales"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="riesgosEquidad">Riesgos de equidad (sesgos, exclusi√≥n de grupos)</label>
                            <textarea id="riesgosEquidad" placeholder="Identifique riesgos de equidad potenciales"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="riesgosOperativos">Riesgos operativos (dependencia de proveedor, sostenibilidad, obsolescencia)</label>
                            <textarea id="riesgosOperativos" placeholder="Identifique riesgos operativos potenciales"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="riesgosReputacionales">Riesgos reputacionales (confianza p√∫blica, controversias)</label>
                            <textarea id="riesgosReputacionales" placeholder="Identifique riesgos reputacionales potenciales"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="mitigaciones">Mitigaciones preliminares identificadas</label>
                            <textarea id="mitigaciones" placeholder="Describa las mitigaciones preliminares identificadas"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 8: M√©tricas de √âxito e Indicadores de Impacto -->
                <div class="section-card" id="seccion8">
                    <div class="section-header">
                        <div class="section-icon">üìà</div>
                        <div class="section-title">Secci√≥n 8: M√©tricas de √âxito e Indicadores de Impacto</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="kpiTecnicos">KPIs de desempe√±o t√©cnico (precisi√≥n, disponibilidad, tiempo de respuesta)</label>
                            <textarea id="kpiTecnicos" placeholder="Defina los KPIs t√©cnicos"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="kpiImpacto">KPIs de impacto en servicio (eficiencia, satisfacci√≥n, cobertura)</label>
                            <textarea id="kpiImpacto" placeholder="Defina los KPIs de impacto en servicio"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="kpiCumplimiento">KPIs de cumplimiento (ARA/DPIA, controles, auditor√≠a)</label>
                            <textarea id="kpiCumplimiento" placeholder="Defina los KPIs de cumplimiento"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="lineaBase">L√≠nea base actual (para medir mejora)</label>
                            <textarea id="lineaBase" placeholder="Describa la l√≠nea base actual"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="metas">Metas cuantificables a 6 y 12 meses</label>
                            <textarea id="metas" placeholder="Defina las metas cuantificables a 6 y 12 meses"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 9: Plan de Despliegue, Formaci√≥n y Comunicaci√≥n -->
                <div class="section-card" id="seccion9">
                    <div class="section-header">
                        <div class="section-icon">üöÄ</div>
                        <div class="section-title">Secci√≥n 9: Plan de Despliegue, Formaci√≥n y Comunicaci√≥n</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Estrategia de implementaci√≥n</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="radio" id="piloto" name="estrategia" value="piloto">
                                    <label for="piloto">Piloto</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="gradual" name="estrategia" value="gradual">
                                    <label for="gradual">Despliegue gradual</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="bigbang" name="estrategia" value="bigbang">
                                    <label for="bigbang">Big bang</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="alcance">Alcance inicial y escalamiento planificado</label>
                            <textarea id="alcance" placeholder="Describa el alcance inicial y el plan de escalamiento"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="capacitacion">Necesidades de capacitaci√≥n identificadas (funcionarios, ciudadanos)</label>
                            <textarea id="capacitacion" placeholder="Describa las necesidades de capacitaci√≥n identificadas"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="comunicacion">Plan de comunicaci√≥n y divulgaci√≥n ciudadana (si aplica)</label>
                            <textarea id="comunicacion" placeholder="Describa el plan de comunicaci√≥n y divulgaci√≥n"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="cronograma">Cronograma estimado de implementaci√≥n</label>
                            <textarea id="cronograma" placeholder="Describa el cronograma estimado de implementaci√≥n"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 10: Monitoreo, Auditor√≠a y Respuesta a Incidentes -->
                <div class="section-card" id="seccion10">
                    <div class="section-header">
                        <div class="section-icon">üîí</div>
                        <div class="section-title">Secci√≥n 10: Monitoreo, Auditor√≠a y Respuesta a Incidentes</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="controles">Controles de monitoreo continuo propuestos (t√©cnicos, de equidad, de privacidad)</label>
                            <textarea id="controles" placeholder="Describa los controles de monitoreo continuo propuestos"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="frecuencia">Frecuencia de revisiones y auditor√≠as</label>
                            <input type="text" id="frecuencia" placeholder="Ej: Trimestral, Semestral, Anual">
                        </div>
                        <div class="form-group">
                            <label for="protocolo">Protocolo de respuesta a incidentes</label>
                            <textarea id="protocolo" placeholder="Describa el protocolo de respuesta a incidentes"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="canales">Canales de reclamaci√≥n ciudadana (si aplica)</label>
                            <textarea id="canales" placeholder="Describa los canales de reclamaci√≥n ciudadana"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 11: Criterios y Plan de Fin de Vida -->
                <div class="section-card" id="seccion11">
                    <div class="section-header">
                        <div class="section-icon">‚èπÔ∏è</div>
                        <div class="section-title">Secci√≥n 11: Criterios y Plan de Fin de Vida</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="criterios">Condiciones que activar√≠an el retiro del sistema</label>
                            <textarea id="criterios" placeholder="Obsolescencia, riesgos inaceptables, costo-beneficio desfavorable, cambios regulatorios"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="planDatos">Plan preliminar de gesti√≥n de datos al final de vida</label>
                            <textarea id="planDatos" placeholder="Describa el plan de gesti√≥n de datos al final de vida"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="planTransicion">Plan de transici√≥n a alternativas</label>
                            <textarea id="planTransicion" placeholder="Describa el plan de transici√≥n a alternativas"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 12: Aprobaciones y Decisi√≥n -->
                <div class="section-card" id="seccion12">
                    <div class="section-header">
                        <div class="section-icon">‚úÖ</div>
                        <div class="section-title">Secci√≥n 12: Aprobaciones y Decisi√≥n</div>
                    </div>
                    <div class="section-content">
                        <div class="approval-section">
                            <div class="approval-item">
                                <div class="approval-title">Evaluaci√≥n de viabilidad por Responsable T√©cnico</div>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="radio" id="tecnicaViable" name="tecnica" value="tecnicaViable">
                                        <label for="tecnicaViable">Viable</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="tecnicaCondiciones" name="tecnica" value="tecnicaCondiciones">
                                        <label for="tecnicaCondiciones">Viable con condiciones</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="tecnicaNo" name="tecnica" value="tecnicaNo">
                                        <label for="tecnicaNo">No viable</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="approval-item">
                                <div class="approval-title">Evaluaci√≥n de conformidad legal por Jur√≠dica</div>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="radio" id="juridicaConforme" name="juridica" value="juridicaConforme">
                                        <label for="juridicaConforme">Conforme</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="juridicaAjustes" name="juridica" value="juridicaAjustes">
                                        <label for="juridicaAjustes">Requiere ajustes</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="juridicaNo" name="juridica" value="juridicaNo">
                                        <label for="juridicaNo">No conforme</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="approval-item">
                                <div class="approval-title">Evaluaci√≥n de privacidad por DPO</div>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="radio" id="dpoAprobado" name="dpo" value="dpoAprobado">
                                        <label for="dpoAprobado">Aprobado</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="dpoDpia" name="dpo" value="dpoDpia">
                                        <label for="dpoDpia">Requiere DPIA</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="dpoNo" name="dpo" value="dpoNo">
                                        <label for="dpoNo">No aprobado</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="approval-item">
                                <div class="approval-title">Evaluaci√≥n presupuestal por Planeaci√≥n</div>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="radio" id="planeacionDisponibles" name="planeacion" value="planeacionDisponibles">
                                        <label for="planeacionDisponibles">Recursos disponibles</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="planeacionGestion" name="planeacion" value="planeacionGestion">
                                        <label for="planeacionGestion">Requiere gesti√≥n</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="planeacionNo" name="planeacion" value="planeacionNo">
                                        <label for="planeacionNo">No viable</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="approval-item">
                                <div class="approval-title">Decisi√≥n del Comit√© de IA</div>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="radio" id="comiteAprobado" name="comite" value="comiteAprobado">
                                        <label for="comiteAprobado">Aprobado para proceder a Fase 2</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="comiteCondiciones" name="comite" value="comiteCondiciones">
                                        <label for="comiteCondiciones">Aprobado con condiciones</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="comiteRechazado" name="comite" value="comiteRechazado">
                                        <label for="comiteRechazado">Rechazado</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="radio" id="comiteInfo" name="comite" value="comiteInfo">
                                        <label for="comiteInfo">Requiere m√°s informaci√≥n</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="firma">Firma del Presidente del Comit√© y fecha</label>
                                <input type="text" id="firma" placeholder="Nombre, firma y fecha">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Funci√≥n para manejar la selecci√≥n de niveles de riesgo
        document.querySelectorAll('.risk-level').forEach(level => {
            level.addEventListener('click', function() {
                document.querySelectorAll('.risk-level').forEach(l => l.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
        
        // Funci√≥n para navegar entre secciones
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    // Actualizar navegaci√≥n activa
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Desplazar a la secci√≥n
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
        
        // Funci√≥n para exportar a JSON
        function exportarJSON() {
            const canvasData = recopilarDatosCanvas();
            const jsonString = JSON.stringify(canvasData, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ai-use-case-canvas.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('Canvas exportado exitosamente como JSON.');
        }
        
        // Funci√≥n para importar desde JSON
        document.getElementById('jsonFileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const canvasData = JSON.parse(e.target.result);
                    cargarDatosCanvas(canvasData);
                    alert('Canvas importado exitosamente desde JSON.');
                } catch (error) {
                    alert('Error al importar el archivo JSON: ' + error.message);
                }
            };
            reader.readAsText(file);
            
            // Limpiar el input para permitir cargar el mismo archivo de nuevo
            e.target.value = '';
        });
        
        // Funci√≥n para recopilar todos los datos del canvas
        function recopilarDatosCanvas() {
            const canvasData = {};
            
            // Recopilar datos de campos de texto, textarea y select
            document.querySelectorAll('input[type="text"], textarea, select').forEach(element => {
                canvasData[element.id] = element.value;
            });
            
            // Recopilar datos de checkbox agrupados por nombre
            document.querySelectorAll('input[type="checkbox"]').forEach(element => {
                const name = element.name;
                if (name) {
                    if (!canvasData[name]) {
                        canvasData[name] = [];
                    }
                    if (element.checked) {
                        canvasData[name].push(element.value);
                    }
                }
            });
            
            // Recopilar datos de radio buttons
            document.querySelectorAll('input[type="radio"]').forEach(element => {
                if (element.checked) {
                    canvasData[element.name] = element.value;
                }
            });
            
            // Recopilar nivel de riesgo seleccionado
            const riesgoSeleccionado = document.querySelector('.risk-level.selected');
            canvasData.nivelRiesgo = riesgoSeleccionado ? riesgoSeleccionado.getAttribute('data-level') : null;
            
            // Agregar metadatos
            canvasData.fechaExportacion = new Date().toISOString();
            canvasData.versionCanvas = '1.0';
            
            return canvasData;
        }
        
        // Funci√≥n para cargar datos en el canvas desde un objeto
        function cargarDatosCanvas(canvasData) {
            // Limpiar formulario primero
            limpiarFormulario();
            
            // Cargar datos en campos de texto, textarea y select
            for (const key in canvasData) {
                const element = document.getElementById(key);
                if (element && (element.type === 'text' || element.type === 'textarea' || element.tagName === 'SELECT')) {
                    element.value = canvasData[key];
                }
            }
            
            // Cargar datos de checkbox agrupados por nombre
            for (const key in canvasData) {
                if (Array.isArray(canvasData[key])) {
                    // Es un grupo de checkbox
                    canvasData[key].forEach(value => {
                        const checkbox = document.querySelector(`input[name="${key}"][value="${value}"]`);
                        if (checkbox) {
                            checkbox.checked = true;
                        }
                    });
                }
            }
            
            // Cargar datos de radio buttons - CORRECCI√ìN APLICADA
            for (const key in canvasData) {
                if (typeof canvasData[key] === 'string') {
                    // Buscar radio buttons por name y value
                    const radio = document.querySelector(`input[name="${key}"][value="${canvasData[key]}"]`);
                    if (radio) {
                        radio.checked = true;
                    }
                    
                    // Tambi√©n intentar buscar por ID directo (para compatibilidad)
                    const elementById = document.getElementById(key);
                    if (elementById && elementById.type === 'radio') {
                        elementById.checked = true;
                    }
                }
            }
            
            // Cargar nivel de riesgo
            if (canvasData.nivelRiesgo) {
                document.querySelectorAll('.risk-level').forEach(level => {
                    if (level.getAttribute('data-level') === canvasData.nivelRiesgo) {
                        level.classList.add('selected');
                    }
                });
            }
        }
        
        // Funci√≥n para cargar un ejemplo de canvas
        function cargarEjemplo() {
            const ejemploCanvas = {
                titulo: "Sistema de clasificaci√≥n autom√°tica de solicitudes ciudadanas",
                entidad: "Secretar√≠a de Gobierno - Direcci√≥n de Atenci√≥n al Ciudadano",
                sponsor: "Mar√≠a Gonz√°lez, Directora de Atenci√≥n al Ciudadano, mgonzalez@entidad.gov.co",
                responsable: "Carlos L√≥pez, Jefe de Desarrollo, clopez@entidad.gov.co",
                fecha: "15/10/2023 - v1.0",
                problema: "Actualmente, el proceso de clasificaci√≥n manual de PQRS (Peticiones, Quejas, Reclamos y Sugerencias) consume aproximadamente 40 horas semanales de trabajo administrativo y presenta un √≠ndice de error del 15% en la categorizaci√≥n, lo que genera retrasos en la atenci√≥n y respuestas incorrectas a los ciudadanos.",
                servicio: "Proceso de recepci√≥n y clasificaci√≥n de PQRS",
                proposito: "Clasificar autom√°ticamente las solicitudes ciudadanas en categor√≠as predefinidas para optimizar su distribuci√≥n a las √°reas responsables",
                tipo: "clasificacion",
                resultados: "Reducci√≥n del 40% en tiempo de clasificaci√≥n, aumento del 25% en precisi√≥n de categorizaci√≥n, reducci√≥n del 30% en tiempo de respuesta a ciudadanos",
                usuarios: "Funcionarios de atenci√≥n al ciudadano, ciudadanos",
                perfil: "Funcionarios con nivel b√°sico de alfabetizaci√≥n digital, ciudadanos con diversos niveles de acceso y competencia tecnol√≥gica",
                propietario: "Direcci√≥n de Sistemas - Base de datos de PQRS",
                stakeholders: "Ciudadanos, funcionarios de atenci√≥n al ciudadano, √°reas responsables de atender las solicitudes, Defensor√≠a del Pueblo",
                rolesGobernanza: ["dpo", "tic", "juridica", "comite"],
                fuentes: "Base de datos hist√≥rica de PQRS (interna), datos abiertos de la entidad (p√∫blica)",
                categoriasDatos: ["personales", "publicos"],
                volumen: "50,000 registros hist√≥ricos, actualizaci√≥n mensual con aproximadamente 2,000 nuevas solicitudes",
                calidad: "Datos hist√≥ricos con buena calidad en general, aunque con algunas inconsistencias en categorizaci√≥n manual que requerir√°n limpieza",
                privacidad: "Incluye datos personales b√°sicos (nombre, identificaci√≥n, contacto) pero no datos sensibles",
                baseServicio: "Ley 1755 de 2015 - Derecho de Petici√≥n, Ley 1437 de 2011 - C√≥digo de Procedimiento Administrativo",
                baseLegal: ["consentimiento", "funcion"],
                normativa: "Ley 1581 de 2012 - Protecci√≥n de datos personales, Decreto 1074 de 2015 - Sector TIC",
                evaluacionLegal: "El sistema cumple con los requisitos legales para el tratamiento de datos personales en el marco de la funci√≥n p√∫blica",
                criteriosClasificacion: ["derechos", "servicios", "decisiones"],
                nivelRiesgo: "limitado",
                justificacion: "El sistema clasifica solicitudes pero no toma decisiones finales que afecten directamente derechos fundamentales. Existe supervisi√≥n humana en el proceso.",
                riesgosEticos: "Posible sesgo en la clasificaci√≥n que podr√≠a afectar a grupos vulnerables",
                riesgosPrivacidad: "Re-identificaci√≥n de datos anonimizados, uso no autorizado de informaci√≥n personal",
                riesgosSeguridad: "Ataques de envenenamiento de datos, manipulaci√≥n de clasificaciones",
                riesgosEquidad: "Sesgo hist√≥rico perpetuado en los datos de entrenamiento",
                riesgosOperativos: "Dependencia de proveedor externo para mantenimiento del modelo",
                riesgosReputacionales: "P√©rdida de confianza ciudadana por clasificaciones err√≥neas",
                mitigaciones: "Auditor√≠as peri√≥dicas de equidad, validaci√≥n humana de clasificaciones cr√≠ticas, transparencia en el funcionamiento",
                kpiTecnicos: "Precisi√≥n > 90%, Tiempo de respuesta < 2 segundos, Disponibilidad > 99%",
                kpiImpacto: "Reducci√≥n del 40% en tiempo de clasificaci√≥n, Aumento del 25% en satisfacci√≥n ciudadana",
                kpiCumplimiento: "100% de revisiones de equidad trimestrales, 0 incidentes de seguridad reportados",
                lineaBase: "Clasificaci√≥n manual con 85% de precisi√≥n, tiempo promedio de clasificaci√≥n: 5 minutos por solicitud",
                metas: "6 meses: 80% de precisi√≥n, 12 meses: 90% de precisi√≥n con reducci√≥n del 30% en tiempo de respuesta",
                estrategia: "piloto",
                alcance: "Fase piloto: 2 √°reas de la entidad, Escalamiento: todas las √°reas en 6 meses",
                capacitacion: "Capacitaci√≥n a funcionarios en uso del sistema, gu√≠as para ciudadanos sobre el proceso",
                comunicacion: "Comunicado oficial sobre implementaci√≥n, sesiones informativas para ciudadanos",
                cronograma: "Mes 1-2: Desarrollo, Mes 3: Pruebas piloto, Mes 4-6: Implementaci√≥n gradual",
                controles: "Monitoreo continuo de precisi√≥n, auditor√≠as de equidad trimestrales, revisiones de seguridad",
                frecuencia: "Trimestral para auditor√≠as de equidad, Semestral para revisiones de seguridad",
                protocolo: "Escalamiento inmediato a supervisor en caso de clasificaci√≥n dudosa, notificaci√≥n a DPO en caso de incidente de privacidad",
                canales: "L√≠nea de atenci√≥n al ciudadano, correo electr√≥nico, formulario web",
                criterios: "Precisi√≥n inferior al 70%, incidentes de seguridad graves, cambios regulatorios que impidan su uso",
                planDatos: "Eliminaci√≥n segura de datos personales, conservaci√≥n de datos anonimizados para an√°lisis",
                planTransicion: "Retorno gradual al proceso manual, capacitaci√≥n de personal para transici√≥n",
                tecnica: "tecnicaViable",
                juridica: "juridicaConforme",
                dpo: "dpoAprobado",
                planeacion: "planeacionDisponibles",
                comite: "comiteAprobado",
                firma: "Dr. Roberto Silva, Presidente Comit√© de IA - 15/10/2023"
            };
            
            cargarDatosCanvas(ejemploCanvas);
            alert('Ejemplo de canvas cargado exitosamente.');
            
        }
        
        // Funci√≥n para limpiar el formulario
        function limpiarFormulario() {
            document.querySelectorAll('input, textarea, select').forEach(element => {
                if (element.type === 'checkbox' || element.type === 'radio') {
                    element.checked = false;
                } else {
                    element.value = '';
                }
            });
            
            document.querySelectorAll('.risk-level').forEach(level => {
                level.classList.remove('selected');
            });           
        }
        
        // Funci√≥n para imprimir el formulario
        function imprimirFormulario() {
            // Obtener todos los datos del formulario
            const canvasData = recopilarDatosCanvas();
            // Guardar los datos en sessionStorage para que la p√°gina de impresi√≥n los pueda leer
            sessionStorage.setItem('canvasDataForPrint', JSON.stringify(canvasData));
            // Redirigir a la p√°gina de impresi√≥n en una nueva pesta√±a
            window.open('print/ai-use-case-canvas-printable.html', '_blank');
        }
        
        // Funci√≥n para procesar par√°metros de URL
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }
        
        // Ejecutar al cargar la p√°gina
        window.addEventListener('DOMContentLoaded', function() {
            // Aqu√≠ se podr√≠a cargar datos preexistentes si se est√° editando un canvas
            const canvasId = getUrlParameter('id');
            if (canvasId) {
                console.log('Cargando canvas con ID:', canvasId);
                // En una implementaci√≥n real, se cargar√≠an los datos desde el servidor
            }
        });
    </script>
</body>
</html>