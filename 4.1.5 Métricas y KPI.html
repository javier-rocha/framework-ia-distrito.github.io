<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capa 5: M√©tricas y KPI</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1a237e, #283593);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .back-button {
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.05);
        }
        
        .content {
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 700px;
            gap: 30px;
        }
        
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .dimensions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .dimension-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 3px solid #e0e0e0;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            height: 180px;
            display: flex;
            flex-direction: column;
        }
        
        .dimension-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
        }
        
        .dimension-card:nth-child(1)::before { background: linear-gradient(90deg, #1976D2, #64B5F6); }
        .dimension-card:nth-child(2)::before { background: linear-gradient(90deg, #388E3C, #66BB6A); }
        .dimension-card:nth-child(3)::before { background: linear-gradient(90deg, #D32F2F, #EF5350); }
        .dimension-card:nth-child(4)::before { background: linear-gradient(90deg, #7B1FA2, #AB47BC); }
        .dimension-card:nth-child(5)::before { background: linear-gradient(90deg, #F57C00, #FFA726); }
        .dimension-card:nth-child(6)::before { background: linear-gradient(90deg, #00897B, #26A69A); }
        
        .dimension-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        .dimension-card.active {
            border-color: #1976D2;
            background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
            box-shadow: 0 8px 20px rgba(25, 118, 210, 0.3);
        }
        
        .dimension-icon {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .dimension-title {
            font-size: 16px;
            font-weight: bold;
            color: #1a237e;
            margin-bottom: 8px;
        }
        
        .dimension-description {
            font-size: 13px;
            color: #555;
            line-height: 1.4;
        }
        
        .detail-panel {
            background: #f9f9f9;
            border: 3px solid #1976D2;
            border-radius: 12px;
            padding: 25px;
            animation: slideIn 0.3s ease;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
            position: sticky;
            top: 20px;
            min-height: 600px;
        }
        
        .detail-panel.empty {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #666;
            font-style: italic;
            border-style: dashed;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #1976D2;
        }
        
        .detail-title {
            font-size: 20px;
            color: #1a237e;
            font-weight: bold;
            line-height: 1.3;
        }
        
        .detail-section {
            margin-bottom: 30px;
        }
        
        .detail-section h3 {
            color: #1976D2;
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .detail-section p {
            line-height: 1.6;
            color: #333;
            margin-bottom: 15px;
        }
        
        .metric-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-left: 5px solid #1976D2;
        }
        
        .metric-title {
            font-size: 18px;
            font-weight: bold;
            color: #1a237e;
            margin-bottom: 10px;
        }
        
        .metric-description {
            font-size: 14px;
            color: #555;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .metric-details {
            background: #f5f7fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .metric-detail-row {
            display: flex;
            margin-bottom: 8px;
        }
        
        .metric-detail-label {
            font-weight: bold;
            color: #1a237e;
            min-width: 120px;
        }
        
        .metric-detail-value {
            color: #333;
        }
        
        .maturity-levels {
            display: flex;
            border-radius: 8px;
            overflow: hidden;
            margin-top: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .maturity-level {
            flex: 1;
            text-align: center;
            padding: 10px 5px;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }
        
        .level-0 {
            background-color: #ff4d4d; /* Rojo */
        }
        
        .level-1 {
            background-color: #ff9933; /* Naranja */
        }
        
        .level-2 {
            background-color: #ffcc00; /* Amarillo */
        }
        
        .level-3 {
            background-color: #4CAF50; /* Verde */
        }
        
        .legend {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 15px;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        
        .legend-text {
            font-size: 12px;
        }
        
        @media (max-width: 1200px) {
            .content {
                grid-template-columns: 1fr;
            }
            
            .detail-panel {
                position: relative;
                top: 0;
                max-height: none;
                min-height: 400px;
            }
            
            .dimensions-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="javascript:history.back()" class="back-button">Atr√°s</a>
            <h1>üìä Capa 5: M√©tricas y KPI</h1>
            <p>Sistema integral de m√©tricas e indicadores clave de desempe√±o para medir y monitorear el cumplimiento normativo, gesti√≥n de riesgos y calidad t√©cnica de los sistemas de IA</p>
        </div>
        
        <div class="content">
            <div class="left-panel">
                <div class="dimensions-grid" id="dimensionsGrid">
                    <div class="dimension-card" onclick="showDetail(1)" data-dimension="1">
                        <div class="dimension-icon">‚öñÔ∏è</div>
                        <div class="dimension-title">Cumplimiento Normativo</div>
                        <div class="dimension-description">M√©tricas de ciclo de vida regulatorio</div>
                    </div>
                    
                    <div class="dimension-card" onclick="showDetail(2)" data-dimension="2">
                        <div class="dimension-icon">üõ°Ô∏è</div>
                        <div class="dimension-title">Gesti√≥n de Riesgos</div>
                        <div class="dimension-description">Monitoreo de incidentes y efectividad de controles</div>
                    </div>
                    
                    <div class="dimension-card" onclick="showDetail(3)" data-dimension="3">
                        <div class="dimension-icon">üìà</div>
                        <div class="dimension-title">Calidad de Datos</div>
                        <div class="dimension-description">Confiabilidad de fuentes y representatividad</div>
                    </div>
                    
                    <div class="dimension-card" onclick="showDetail(4)" data-dimension="4">
                        <div class="dimension-icon">‚öôÔ∏è</div>
                        <div class="dimension-title">Desempe√±o T√©cnico</div>
                        <div class="dimension-description">Confiabilidad de modelos y m√©tricas de equidad</div>
                    </div>
                    
                    <div class="dimension-card" onclick="showDetail(5)" data-dimension="5">
                        <div class="dimension-icon">üèõÔ∏è</div>
                        <div class="dimension-title">Impacto P√∫blico</div>
                        <div class="dimension-description">Satisfacci√≥n ciudadana y eficiencia operativa</div>
                    </div>
                    
                    <div class="dimension-card" onclick="showDetail(6)" data-dimension="6">
                        <div class="dimension-icon">üè¢</div>
                        <div class="dimension-title">Madurez Institucional</div>
                        <div class="dimension-description">Sostenibilidad y capacidades de gobernanza</div>
                    </div>
                </div>
            </div>
            
            <div class="detail-panel empty" id="detailPanel">
                <p>üëà Selecciona una dimensi√≥n para ver las m√©tricas y KPI detallados</p>
            </div>
        </div>
    </div>

    <script>
        const metricsDetails = {
            1: {
                title: "Cumplimiento Normativo",
                description: "M√©tricas que verifican el cumplimiento de requisitos normativos del CONPES 4144, Ley 1581 de 2012, circulares de la SIC, y reglas del AI Act aplicables a sistemas de alto riesgo en entidades p√∫blicas.",
                metrics: [
                    {
                        name: "Casos de uso clasificados",
                        description: "Porcentaje de casos de uso de IA con clasificaci√≥n de riesgo formalizada",
                        formula: "(Casos de uso con clasificaci√≥n de riesgo formalizada / Total de casos de uso de IA) √ó 100",
                        frequency: "Trimestral",
                        target: "100%",
                        level0: "0-20%",
                        level1: "20-60%",
                        level2: "60-90%",
                        level3: "‚â•90%"
                    },
                    {
                        name: "Sistemas alto riesgo con ARADPIA",
                        description: "Porcentaje de sistemas de alto riesgo con An√°lisis de Riesgos y Gesti√≥n de Datos Personales en IA completo",
                        formula: "(Sistemas de alto riesgo con ARADPIA / Total de sistemas de alto riesgo) √ó 100",
                        frequency: "Continua antes de despliegue, consolidado trimestral",
                        target: "100%",
                        level0: "0-10%",
                        level1: "10-50%",
                        level2: "50-90%",
                        level3: "100%"
                    },
                    {
                        name: "Documentaci√≥n t√©cnica",
                        description: "Porcentaje de sistemas con documentaci√≥n t√©cnica completa (Model Cards y Data Sheets)",
                        formula: "(Sistemas con Model Card y Data Sheets actualizados / Total de sistemas en operaci√≥n) √ó 100",
                        frequency: "Semestral",
                        target: "100% alto riesgo, ‚â•80% riesgo limitado",
                        level0: "0%",
                        level1: "10-30%",
                        level2: "30-80%",
                        level3: "100% bajo riesgo, ‚â•80%"
                    },
                    {
                        name: "Reuniones Comit√© IA",
                        description: "Porcentaje de reuniones del Comit√© de IA realizadas seg√∫n calendario establecido",
                        formula: "(Reuniones efectivamente realizadas / Reuniones programadas seg√∫n pol√≠tica) √ó 100",
                        frequency: "Trimestral",
                        target: "‚â•90%",
                        level0: "10-20%",
                        level1: "30-70%",
                        level2: "70-85%",
                        level3: "‚â•90%"
                    },
                    {
                        name: "Cobertura capacitaci√≥n en IA responsable",
                        description: "Porcentaje de funcionarios en roles clave capacitados en principios de IA responsable",
                        formula: "(Funcionarios en roles clave capacitados / Total de funcionarios en roles clave) √ó 100",
                        frequency: "Semestral",
                        target: "100% roles clave, ‚â•80% roles soporte",
                        level0: "<30%",
                        level1: "30-60%",
                        level2: "60-85%",
                        level3: "100% roles clave, ‚â•80% soporte"
                    }
                ]
            },
            2: {
                title: "Gesti√≥n de Riesgos",
                description: "M√©tricas que hacen funcional el proceso de gesti√≥n de riesgos y permiten verificar cuantitativamente si los controles implementados est√°n funcionando.",
                metrics: [
                    {
                        name: "N√∫mero de incidentes de IA por tipolog√≠a",
                        description: "Conteo y tendencia de incidentes de IA categorizados por tipo",
                        formula: "Conteo mensual desagregado por tipo: t√©cnico, privacidad, equidad, seguridad, ciudadanas",
                        frequency: "Registro continuo, reporte mensual",
                        target: "Tendencia decreciente trimestral",
                        level0: "Creciente",
                        level1: "Fluctuante",
                        level2: "Decreciente algunos tipos",
                        level3: "Decreciente todas las categor√≠as"
                    },
                    {
                        name: "Tiempo medio de respuesta a incidentes",
                        description: "Tiempo promedio desde la detecci√≥n hasta la resoluci√≥n completa de incidentes",
                        formula: "Œ£(tiempo desde detecci√≥n hasta resoluci√≥n completa) / N√∫mero total de incidentes procesados",
                        frequency: "Consolidaci√≥n mensual",
                        target: "‚â§24h cr√≠ticos, ‚â§72h altos",
                        level0: ">72h",
                        level1: "48-72h",
                        level2: "24-72h seg√∫n criticidad",
                        level3: "‚â§24h cr√≠ticos, ‚â§72h altos"
                    },
                    {
                        name: "Tasa de materializaci√≥n de riesgos",
                        description: "Porcentaje de riesgos identificados que efectivamente se materializaron",
                        formula: "(Riesgos que efectivamente se presentaron / Total de riesgos identificados en ARADPIA) √ó 100",
                        frequency: "Semestral",
                        target: "<5%",
                        level0: ">15%",
                        level1: "10-15%",
                        level2: "5-10%",
                        level3: "<5%"
                    },
                    {
                        name: "Efectividad de controles implementados",
                        description: "Porcentaje de controles evaluados como efectivos en auditor√≠as",
                        formula: "% de controles evaluados como efectivos en auditor√≠a",
                        frequency: "Anual auditor√≠a interna, bianual externa para alto riesgo",
                        target: "‚â•85%",
                        level0: "<30%",
                        level1: "30-60%",
                        level2: "60-80%",
                        level3: "‚â•85%"
                    }
                ]
            },
            3: {
                title: "Calidad de Datos",
                description: "M√©tricas que eval√∫an las dimensiones fundamentales del ciclo de vida de datos, reconociendo que la calidad de los datos determina cr√≠ticamente la calidad, equidad y confiabilidad de los sistemas de IA.",
                metrics: [
                    {
                        name: "Completitud de datos",
                        description: "Porcentaje de registros que contienen valores v√°lidos en campos cr√≠ticos",
                        formula: "(Registros sin valores faltantes en campos cr√≠ticos / Total de registros en dataset) √ó 100",
                        frequency: "Mensual para datasets activos",
                        target: "‚â•95% para campos cr√≠ticos",
                        level0: "<80%",
                        level1: "80-90%",
                        level2: "90-95%",
                        level3: "‚â•95%"
                    },
                    {
                        name: "Tasa de detecci√≥n de drift",
                        description: "Capacidad del sistema para identificar cambios en la distribuci√≥n de datos a lo largo del tiempo",
                        formula: "N√∫mero de detecciones de drift significativo por per√≠odo",
                        frequency: "Semanal alto riesgo, mensual riesgo limitado",
                        target: "Detecci√≥n temprana antes de degradaci√≥n severa",
                        level0: "No existe",
                        level1: "Detecciones espor√°dicas",
                        level2: "Monitoreo programado",
                        level3: "Detecci√≥n autom√°tica en tiempo real"
                    },
                    {
                        name: "Representatividad demogr√°fica",
                        description: "Evaluaci√≥n de si la distribuci√≥n de datos refleja adecuadamente la poblaci√≥n objetivo",
                        formula: "Test Chi-cuadrado: p-valor ‚â• 0.05 sin diferencia significativa",
                        frequency: "Trimestral o con actualizaci√≥n mayor de datos",
                        target: "p-valor ‚â•0.05 sin diferencia significativa",
                        level0: "No evaluada",
                        level1: "Parcialmente evaluada",
                        level2: "Chi-cuadrado en progreso",
                        level3: "p-valor ‚â•0.05 sin diferencia"
                    },
                    {
                        name: "√çndice de calidad de documentaci√≥n de datos",
                        description: "Evaluaci√≥n de la completitud de la documentaci√≥n sobre datos utilizados",
                        formula: "Puntuaci√≥n 0-100 basada en checklist de completitud de Data Sheets",
                        frequency: "Con cada dataset nuevo o actualizaci√≥n importante",
                        target: "‚â•80%",
                        level0: "<40%",
                        level1: "40-60%",
                        level2: "60-80%",
                        level3: "‚â•80%"
                    }
                ]
            },
            4: {
                title: "Desempe√±o T√©cnico",
                description: "M√©tricas que eval√∫an el rendimiento t√©cnico de los sistemas de IA, asegurando que cumplan con est√°ndares de precisi√≥n, equidad, disponibilidad y velocidad de respuesta apropiados para el contexto del servicio p√∫blico distrital.",
                metrics: [
                    {
                        name: "Precisi√≥n y desempe√±o de modelos",
                        description: "M√©tricas de precisi√≥n seg√∫n tipo de sistema (clasificaci√≥n, regresi√≥n, generaci√≥n)",
                        formula: "Precisi√≥n: clasificaci√≥n (F1, AUC), regresi√≥n (MAE, RMSE, R¬≤), generaci√≥n (BLEU, ROUGE)",
                        frequency: "Monitoreo continuo con reporte semanal/mensual",
                        target: "‚â•85% para sistemas cr√≠ticos",
                        level0: "<70%",
                        level1: "70-78%",
                        level2: "78-85%",
                        level3: "‚â•85%"
                    },
                    {
                        name: "M√©tricas de equidad",
                        description: "Evaluaci√≥n del grado de discriminaci√≥n potencial del sistema",
                        formula: "Disparate Impact Ratio ‚â• 0.8; Equal Opportunity Difference ‚â§ 0.1",
                        frequency: "Semanal o mensual en monitoreo continuo",
                        target: "Disparate Impact ‚â•0.8; Diferencia ‚â§10 puntos porcentuales",
                        level0: "<0.6",
                        level1: "0.6-0.75",
                        level2: "0.75-0.85",
                        level3: "‚â•0.8"
                    },
                    {
                        name: "Disponibilidad del sistema",
                        description: "Porcentaje de tiempo que el servicio de IA est√° activo y disponible",
                        formula: "(Tiempo de operaci√≥n efectiva / Tiempo total planificado) √ó 100",
                        frequency: "Monitoreo continuo, reporte mensual",
                        target: "‚â•99% cr√≠ticos, ‚â•95% no cr√≠ticos",
                        level0: "<90%",
                        level1: "90-95%",
                        level2: "95-98%",
                        level3: "‚â•99%"
                    },
                    {
                        name: "Tiempo de respuesta de sistemas",
                        description: "Velocidad de respuesta del sistema a las solicitudes de usuarios",
                        formula: "Percentil 95 del tiempo de respuesta en segundos",
                        frequency: "Monitoreo continuo, reporte semanal",
                        target: "‚â§2 segundos para interacciones ciudadanas",
                        level0: ">5 seg",
                        level1: "3-5 segundos",
                        level2: "2-3 segundos",
                        level3: "‚â§2 segundos"
                    }
                ]
            },
            5: {
                title: "Impacto P√∫blico",
                description: "M√©tricas que eval√∫an el valor real que generan los sistemas de IA, respondiendo a la pregunta fundamental: ¬øest√° la IA mejorando efectivamente los servicios p√∫blicos y la experiencia ciudadana de manera medible?",
                metrics: [
                    {
                        name: "Satisfacci√≥n ciudadana",
                        description: "Evaluaci√≥n de la satisfacci√≥n de los ciudadanos con los servicios que utilizan IA",
                        formula: "CSAT: % satisfecho/muy satisfecho escala 1-5; NPS: (% promotores - % detractores)",
                        frequency: "Captura continua, consolidaci√≥n mensual",
                        target: "‚â•80% satisfecho/muy satisfecho; NPS ‚â•50",
                        level0: "<60%",
                        level1: "60-75%",
                        level2: "75-85%",
                        level3: "‚â•80%"
                    },
                    {
                        name: "Eficiencia operativa",
                        description: "Comparaci√≥n del desempe√±o operativo antes y despu√©s de implementar IA",
                        formula: "(Tiempo post-IA / Tiempo pre-IA - 1) √ó 100 o (Costo post-IA / Costo pre-IA - 1) √ó 100",
                        frequency: "Evaluaci√≥n trimestral",
                        target: "Mejora ‚â•20% respecto a l√≠nea base",
                        level0: "Sin cambio",
                        level1: "5-10% mejora",
                        level2: "10-15% mejora",
                        level3: "‚â•20% mejora"
                    },
                    {
                        name: "Volumen de servicio y tasa de resoluci√≥n",
                        description: "Capacidad de atender transacciones y resolver casos sin intervenci√≥n humana",
                        formula: "N√∫mero transacciones procesadas; (Resueltas sin escalamiento / Total) √ó 100",
                        frequency: "Consolidaci√≥n mensual",
                        target: "Crecimiento sostenido; tasa resoluci√≥n ‚â•70%",
                        level0: "<40%",
                        level1: "40-60%",
                        level2: "60-75%",
                        level3: "‚â•70%"
                    },
                    {
                        name: "Tasa de escalamiento a humano",
                        description: "Balance entre automatizaci√≥n y supervisi√≥n humana necesaria",
                        formula: "(Casos escalados a humano / Total casos procesados) √ó 100",
                        frequency: "Consolidaci√≥n semanal/mensual",
                        target: "5-15% seg√∫n criticidad",
                        level0: ">30%",
                        level1: "15-30%",
                        level2: "10-20%",
                        level3: "5-15% (balance √≥ptimo)"
                    },
                    {
                        name: "Equidad de acceso",
                        description: "Evaluaci√≥n de acceso equitativo a servicios por segmentos demogr√°ficos",
                        formula: "An√°lisis desagregado por g√©nero, edad, estrato, localidad; prueba de homogeneidad",
                        frequency: "Evaluaci√≥n trimestral",
                        target: "Sin diferencias significativas no justificadas",
                        level0: "Exclusi√≥n evidente",
                        level1: "Diferencias por segmento",
                        level2: "Diferencias menores no significativas",
                        level3: "Sin diferencias significativas"
                    }
                ]
            },
            6: {
                title: "Madurez Institucional",
                description: "M√©tricas que eval√∫an qu√© tan desarrolladas est√°n las capacidades de gobernanza de IA dentro de la Secretar√≠a, facilitando la planificaci√≥n estrat√©gica y la asignaci√≥n de recursos a lo largo del tiempo.",
                metrics: [
                    {
                        name: "Nivel de madurez institucional",
                        description: "Evaluaci√≥n global del nivel de madurez en gobernanza de IA",
                        formula: "0 (Incipiente), 1 (Informal), 2 (Documentado), 3 (Optimizado)",
                        frequency: "Anual con autoevaluaci√≥n y validaci√≥n externa",
                        target: "Avance m√≠nimo de 1 nivel por a√±o",
                        level0: "Incipiente",
                        level1: "Informal",
                        level2: "Documentado",
                        level3: "Optimizado"
                    },
                    {
                        name: "Cobertura de capacitaci√≥n en roles clave",
                        description: "Porcentaje de funcionarios en roles clave capacitados en gobernanza de IA",
                        formula: "(Capacitados roles clave / Total roles clave) √ó 100",
                        frequency: "Semestral",
                        target: "100%",
                        level0: "<50%",
                        level1: "50-75%",
                        level2: "85-95%",
                        level3: "100%"
                    },
                    {
                        name: "Porcentaje de servicios con IA implementada",
                        description: "Porcentaje de servicios institucionales que incorporan componentes de IA",
                        formula: "(Servicios con IA / Total servicios candidatos en roadmap) √ó 100",
                        frequency: "Semestral",
                        target: "20% a√±o 1, 40% a√±o 2, 60% a√±o 3",
                        level0: "0%",
                        level1: "5-15%",
                        level2: "20-40%",
                        level3: "‚â•60%"
                    },
                    {
                        name: "Relaci√≥n costo-beneficio",
                        description: "Evaluaci√≥n del retorno de inversi√≥n de las iniciativas de IA",
                        formula: "(Beneficios totales / Costos totales 3 a√±os)",
                        frequency: "Anual",
                        target: "ROI ‚â•1.5-3.0",
                        level0: "<0",
                        level1: "0-1.0",
                        level2: "1.0-1.5",
                        level3: "‚â•1.5-3.0"
                    },
                    {
                        name: "√çndice de sostenibilidad institucional",
                        description: "Evaluaci√≥n cualitativa del grado de sostenibilidad de las iniciativas de IA",
                        formula: "Evaluaci√≥n 0-100: apropiaci√≥n, continuidad presupuestal, independencia, transferencia",
                        frequency: "Anual",
                        target: "‚â•70",
                        level0: "<30",
                        level1: "30-50",
                        level2: "50-70",
                        level3: "‚â•70"
                    }
                ]
            }
        };

        function showDetail(dimension) {
            const detail = metricsDetails[dimension];
            const panel = document.getElementById('detailPanel');
            
            panel.classList.remove('empty');
            
            let html = `
                <div class="detail-header">
                    <h2 class="detail-title">${detail.title}</h2>
                </div>
                
                <div class="detail-section">
                    <p>${detail.description}</p>
                </div>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color level-0"></div>
                        <div class="legend-text">NIVEL 0: INCIPIENTE</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color level-1"></div>
                        <div class="legend-text">NIVEL 1: INFORMAL</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color level-2"></div>
                        <div class="legend-text">NIVEL 2: DOCUMENTADO</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color level-3"></div>
                        <div class="legend-text">NIVEL 3: OPTIMIZADO</div>
                    </div>
                </div>
            `;
            
            detail.metrics.forEach(metric => {
                html += `
                    <div class="metric-card">
                        <div class="metric-title">${metric.name}</div>
                        <div class="metric-description">${metric.description}</div>
                        
                        <div class="metric-details">
                            <div class="metric-detail-row">
                                <div class="metric-detail-label">F√≥rmula:</div>
                                <div class="metric-detail-value">${metric.formula}</div>
                            </div>
                            <div class="metric-detail-row">
                                <div class="metric-detail-label">Frecuencia:</div>
                                <div class="metric-detail-value">${metric.frequency}</div>
                            </div>
                            <div class="metric-detail-row">
                                <div class="metric-detail-label">Meta:</div>
                                <div class="metric-detail-value">${metric.target}</div>
                            </div>
                        </div>
                        
                        <div class="maturity-levels">
                            <div class="maturity-level level-0">${metric.level0}</div>
                            <div class="maturity-level level-1">${metric.level1}</div>
                            <div class="maturity-level level-2">${metric.level2}</div>
                            <div class="maturity-level level-3">${metric.level3}</div>
                        </div>
                    </div>
                `;
            });
            
            panel.innerHTML = html;
            
            // Highlight active dimension
            document.querySelectorAll('.dimension-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelector(`[data-dimension="${dimension}"]`).classList.add('active');
        }

        // Funci√≥n para procesar par√°metros de URL
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Funci√≥n para mostrar una dimensi√≥n espec√≠fica basada en par√°metros de URL
        function checkUrlParameters() {
            const dimensionParam = getUrlParameter('dimension');
            if (dimensionParam && metricsDetails[dimensionParam]) {
                showDetail(parseInt(dimensionParam));
            }
        }

        // Ejecutar al cargar la p√°gina
        window.addEventListener('DOMContentLoaded', function() {
            checkUrlParameters();
        });
    </script>
</body>
</html>