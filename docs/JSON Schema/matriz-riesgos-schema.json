{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Esquema de Matriz de Riesgos de IA",
  "type": "object",
  "properties": {
    "fechaExportacion": {
      "type": "string",
      "format": "date-time",
      "description": "Fecha y hora de exportación del documento (ISO 8601)."
    },
    "riesgos": {
      "type": "array",
      "description": "Lista de riesgos registrados en la matriz.",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Identificador único del riesgo."
          },
          "descripcion": {
            "type": "string",
            "description": "Descripción detallada del riesgo identificado."
          },
          "categoria": {
            "type": "string",
            "description": "Categoría a la que pertenece el riesgo.",
            "enum": [
              "Privacidad",
              "Equidad",
              "Seguridad",
              "Transparencia",
              "Rendición de cuentas",
              "Continuidad del servicio",
              "Cumplimiento",
              "Reputación"
            ]
          },
          "dimension": {
            "type": "string",
            "description": "Dimensión principal de impacto del riesgo.",
            "enum": [
              "Derechos y libertades fundamentales",
              "Equidad y no discriminación",
              "Continuidad y calidad del servicio",
              "Seguridad y ciberseguridad",
              "Reputación y confianza pública",
              "Cumplimiento regulatorio"
            ]
          },
          "probabilidad": {
            "type": "integer",
            "description": "Nivel de probabilidad de ocurrencia del riesgo (1-3).",
            "enum": [1, 2, 3]
          },
          "impacto": {
            "type": "integer",
            "description": "Nivel de impacto si el riesgo se materializa (1-3).",
            "enum": [1, 2, 3]
          },
          "calificacion": {
            "type": "integer",
            "description": "Calificación del riesgo calculada como Probabilidad × Impacto."
          },
          "nivelRiesgo": {
            "type": "object",
            "description": "Nivel de riesgo resultante y su clase CSS asociada.",
            "properties": {
              "nivel": {
                "type": "string",
                "enum": ["Bajo", "Medio", "Alto"]
              },
              "clase": {
                "type": "string",
                "enum": ["risk-level-bajo", "risk-level-medio", "risk-level-alto"]
              }
            },
            "required": ["nivel", "clase"]
          },
          "controles": {
            "type": "string",
            "description": "Descripción de los controles existentes para mitigar el riesgo."
          },
          "efectividad": {
            "type": "string",
            "description": "Efectividad de los controles existentes.",
            "enum": ["Alta", "Media", "Baja", "No aplica"]
          },
          "adicional": {
            "type": "string",
            "description": "Descripción de los controles adicionales propuestos."
          },
          "responsable": {
            "type": "string",
            "description": "Nombre o rol del responsable de gestionar el riesgo."
          },
          "estado": {
            "type": "string",
            "description": "Estado actual de la gestión del riesgo.",
            "enum": ["Pendiente", "En progreso", "Mitigado", "Aceptado", "Cerrado"]
          }
        },
        "required": [
          "id",
          "descripcion",
          "categoria",
          "dimension",
          "probabilidad",
          "impacto",
          "calificacion",
          "nivelRiesgo",
          "controles",
          "efectividad",
          "adicional",
          "responsable",
          "estado"
        ]
      }
    }
  },
  "required": [
    "fechaExportacion",
    "riesgos"
  ]
}