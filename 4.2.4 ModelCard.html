<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toolkit - Model Cards</title>    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/datasheet-modelcard.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="javascript:history.back()" class="back-button">Atras</a>
            <h1>üõ†Ô∏è Toolkit - Model Cards</h1>
            <p>Documentaci√≥n estandarizada para modelos de IA</p>
        </div>
        
        <div class="sidebar">
            <div class="nav-section">
                <div class="nav-section-title">üìã Secciones del Model Card</div>
                <a href="#seccion1" class="nav-item active">üìù Informaci√≥n General</a>
                <a href="#seccion2" class="nav-item">üéØ Prop√≥sito del Modelo</a>
                <a href="#seccion3" class="nav-item">‚öôÔ∏è Descripci√≥n T√©cnica</a>
                <a href="#seccion4" class="nav-item">üìä Datos Utilizados</a>
                <a href="#seccion5" class="nav-item">üìà M√©tricas de Desempe√±o</a>
                <a href="#seccion6" class="nav-item">‚öñÔ∏è Evaluaci√≥n de Sesgos</a>
                <a href="#seccion7" class="nav-item">‚ö†Ô∏è Riesgos del Modelo</a>
                <a href="#seccion8" class="nav-item">üõ°Ô∏è Controles Implementados</a>
                <a href="#seccion9" class="nav-item">üîç Explicabilidad y Transparencia</a>
                <a href="#seccion10" class="nav-item">üìã Reglas de Uso Responsable</a>
                <a href="#seccion11" class="nav-item">üîÑ Entradas y Salidas del Modelo</a>
                <a href="#seccion12" class="nav-item">üìä Monitoreo y Mantenimiento</a>
                <a href="#seccion13" class="nav-item">üìö Historial de Cambios</a>
                <a href="#seccion14" class="nav-item">‚úÖ Aprobaciones</a>
            </div>
            
            <div class="panel json-panel">
                <div class="json-title">üìÑ Gesti√≥n de Datos</div>
                <div class="json-actions">
                    <input type="file" id="jsonFileInput" accept=".json" style="display: none;">
                    <button class="json-btn import" onclick="document.getElementById('jsonFileInput').click()">Importar desde JSON</button>
                    <button class="json-btn export" onclick="exportarJSON()">Exportar a JSON</button>
                    <button class="json-btn print" onclick="imprimirFormulario()">üñ®Ô∏è Imprimir Formulario</button>
                    <button class="json-btn" onclick="cargarEjemplo()" style="background: #9c27b0; color: white;">Cargar Ejemplo</button>
                    <button class="json-btn" onclick="limpiarFormulario()" style="background: #f44336; color: white;">Limpiar Todo</button>
                </div>
            </div>
        </div>
        
        <div class="content">
            <!-- Model Card Content -->
            <div id="model-card-content">
                <!-- Secci√≥n 1: Informaci√≥n General -->
                <div class="section-card" id="seccion1">
                    <div class="section-header">
                        <div class="section-icon">üìù</div>
                        <div class="section-title">1. Informaci√≥n General</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloNombre">
                                Nombre del modelo
                                <span class="helper-icon" title="Identificador √∫nico del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <input type="text" id="modeloNombre" class="form-control required-field" placeholder="Ej: Clasificador de PQRS Bogot√°">
                        </div>
                        <div class="form-group">
                            <label for="modeloVersion">
                                Versi√≥n
                                <span class="helper-icon" title="Versi√≥n actual del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <input type="text" id="modeloVersion" class="form-control required-field" placeholder="Ej: v1.0">
                        </div>
                        <div class="form-group">
                            <label for="modeloEntidad">
                                Entidad responsable
                                <span class="helper-icon" title="Organizaci√≥n responsable del desarrollo y mantenimiento">‚ÑπÔ∏è</span>
                            </label>
                            <input type="text" id="modeloEntidad" class="form-control required-field" placeholder="Ej: Secretar√≠a Distrital de Gobierno">
                        </div>
                        <div class="form-group">
                            <label for="modeloArea">
                                √Årea usuaria
                                <span class="helper-icon" title="Departamento o √°rea que utiliza el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <input type="text" id="modeloArea" class="form-control required-field" placeholder="Ej: Direcci√≥n de Atenci√≥n al Ciudadano">
                        </div>
                        <div class="form-group">
                            <label for="modeloFechaCreacion">
                                Fecha de creaci√≥n
                                <span class="helper-icon" title="Fecha en que se cre√≥ el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <input type="date" id="modeloFechaCreacion" class="form-control required-field">
                        </div>
                        <div class="form-group">
                            <label for="modeloFechaActualizacion">
                                Fecha de actualizaci√≥n
                                <span class="helper-icon" title="√öltima fecha de modificaci√≥n del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <input type="date" id="modeloFechaActualizacion" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="modeloEstado">
                                Estado del ciclo de vida
                                <span class="helper-icon" title="Estado actual del modelo en su ciclo de vida">‚ÑπÔ∏è</span>
                            </label>
                            <select id="modeloEstado" class="form-control required-field">
                                <option value="">Seleccione</option>
                                <option value="desarrollo">En desarrollo</option>
                                <option value="pruebas">En pruebas</option>
                                <option value="produccion">En producci√≥n</option>
                                <option value="mantenimiento">En mantenimiento</option>
                                <option value="retirado">Retirado</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 2: Prop√≥sito del modelo -->
                <div class="section-card" id="seccion2">
                    <div class="section-header">
                        <div class="section-icon">üéØ</div>
                        <div class="section-title">2. Prop√≥sito del Modelo</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloObjetivo">
                                Objetivo del modelo
                                <span class="helper-icon" title="Prop√≥sito principal del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloObjetivo" class="form-control required-field" placeholder="Describa el objetivo principal del modelo"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloCasoUso">
                                Caso de uso
                                <span class="helper-icon" title="Escenario espec√≠fico de aplicaci√≥n del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloCasoUso" class="form-control required-field" placeholder="Describa el caso de uso espec√≠fico"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloAlcance">
                                Alcance
                                <span class="helper-icon" title="L√≠mites y alcance del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloAlcance" class="form-control required-field" placeholder="Describa el alcance del modelo"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloProcesosImpactados">
                                Procesos institucionales impactados
                                <span class="helper-icon" title="Procesos de la organizaci√≥n afectados por el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloProcesosImpactados" class="form-control required-field" placeholder="Liste los procesos impactados"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloUsuariosPrevistos">
                                Usuarios previstos
                                <span class="helper-icon" title="Personas o sistemas que utilizar√°n el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloUsuariosPrevistos" class="form-control required-field" placeholder="Describa los usuarios previstos"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 3: Descripci√≥n T√©cnica -->
                <div class="section-card" id="seccion3">
                    <div class="section-header">
                        <div class="section-icon">‚öôÔ∏è</div>
                        <div class="section-title">3. Descripci√≥n T√©cnica</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloTipo">
                                Tipo de modelo
                                <span class="helper-icon" title="Clasificaci√≥n del modelo seg√∫n su funci√≥n">‚ÑπÔ∏è</span>
                            </label>
                            <select id="modeloTipo" class="form-control required-field">
                                <option value="">Seleccione</option>
                                <option value="clasificacion">Clasificaci√≥n</option>
                                <option value="regresion">Regresi√≥n</option>
                                <option value="clustering">Clustering</option>
                                <option value="nlp">Procesamiento de Lenguaje Natural (NLP)</option>
                                <option value="vision">Visi√≥n por Computadora</option>
                                <option value="recomendacion">Sistema de Recomendaci√≥n</option>
                                <option value="otros">Otros</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="modeloAlgoritmo">
                                Algoritmo principal
                                <span class="helper-icon" title="Algoritmo o arquitectura principal utilizada">‚ÑπÔ∏è</span>
                            </label>
                            <input type="text" id="modeloAlgoritmo" class="form-control required-field" placeholder="Ej: BERT fine-tuning, Random Forest, etc.">
                        </div>
                        <div class="form-group">
                            <label for="modeloArquitectura">
                                Arquitectura
                                <span class="helper-icon" title="Descripci√≥n de la arquitectura del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloArquitectura" class="form-control required-field" placeholder="Describa la arquitectura del modelo"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloTecnologias">
                                Tecnolog√≠as utilizadas
                                <span class="helper-icon" title="Frameworks, librer√≠as y herramientas utilizadas">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloTecnologias" class="form-control required-field" placeholder="Liste las tecnolog√≠as utilizadas"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 4: Datos Utilizados -->
                <div class="section-card" id="seccion4">
                    <div class="section-header">
                        <div class="section-icon">üìä</div>
                        <div class="section-title">4. Datos Utilizados</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloDatasetEntrenamiento">
                                Dataset de entrenamiento
                                <span class="helper-icon" title="Conjunto de datos utilizado para entrenar el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloDatasetEntrenamiento" class="form-control required-field" placeholder="Describa el dataset de entrenamiento"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloDatasetValidacion">
                                Dataset de validaci√≥n
                                <span class="helper-icon" title="Conjunto de datos utilizado para validar el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloDatasetValidacion" class="form-control" placeholder="Describa el dataset de validaci√≥n"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloDatasetPruebas">
                                Dataset de pruebas
                                <span class="helper-icon" title="Conjunto de datos utilizado para probar el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloDatasetPruebas" class="form-control" placeholder="Describa el dataset de pruebas"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloReferenciaDataSheet">
                                Referencia al Data Sheet
                                <span class="helper-icon" title="Enlace o referencia al Data Sheet correspondiente">‚ÑπÔ∏è</span>
                            </label>
                            <input type="text" id="modeloReferenciaDataSheet" class="form-control" placeholder="Ej: Data Sheet v1.0 - actualizado 01/03/2025">
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 5: M√©tricas de Desempe√±o -->
                <div class="section-card" id="seccion5">
                    <div class="section-header">
                        <div class="section-icon">üìà</div>
                        <div class="section-title">5. M√©tricas de Desempe√±o</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>M√©tricas Globales</label>
                            <div class="table-actions">
                                <button class="table-btn" onclick="agregarFila('tablaMetricasGlobales')">+ Agregar Fila</button>
                            </div>
                            <div class="table-container">
                                <table class="data-table" id="tablaMetricasGlobales">
                                    <thead>
                                        <tr>
                                            <th>M√©trica</th>
                                            <th>Valor</th>
                                            <th>Descripci√≥n</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><input type="text" placeholder="Ej: Precisi√≥n"></td>
                                            <td><input type="text" placeholder="Ej: 0.89"></td>
                                            <td><input type="text" placeholder="Descripci√≥n de la m√©trica"></td>
                                            <td><button class="table-btn remove" onclick="eliminarFila(this)">‚úï</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>M√©tricas por Subpoblaciones</label>
                            <div class="table-actions">
                                <button class="table-btn" onclick="agregarFila('tablaMetricasSubpoblaciones')">+ Agregar Fila</button>
                            </div>
                            <div class="table-container">
                                <table class="data-table" id="tablaMetricasSubpoblaciones">
                                    <thead>
                                        <tr>
                                            <th>Subpoblaci√≥n</th>
                                            <th>M√©trica</th>
                                            <th>Valor</th>
                                            <th>Observaciones</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><input type="text" placeholder="Ej: Localidades rurales"></td>
                                            <td><input type="text" placeholder="Ej: F1-score"></td>
                                            <td><input type="text" placeholder="Ej: 0.78"></td>
                                            <td><input type="text" placeholder="Observaciones"></td>
                                            <td><button class="table-btn remove" onclick="eliminarFila(this)">‚úï</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 6: Evaluaci√≥n de Sesgos -->
                <div class="section-card" id="seccion6">
                    <div class="section-header">
                        <div class="section-icon">‚öñÔ∏è</div>
                        <div class="section-title">6. Evaluaci√≥n de Sesgos</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloSesgosIdentificados">
                                Sesgos identificados
                                <span class="helper-icon" title="Sesgos potenciales detectados en el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloSesgosIdentificados" class="form-control" placeholder="Describa los sesgos identificados"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloResultadosPruebasEquidad">
                                Resultados de pruebas de equidad
                                <span class="helper-icon" title="Resultados de pruebas espec√≠ficas de equidad realizadas">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloResultadosPruebasEquidad" class="form-control" placeholder="Describa los resultados de pruebas de equidad"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloMedidasMitigacionSesgos">
                                Medidas aplicadas para mitigar sesgos
                                <span class="helper-icon" title="Acciones tomadas para reducir o eliminar sesgos">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloMedidasMitigacionSesgos" class="form-control" placeholder="Describa las medidas de mitigaci√≥n"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 7: Riesgos del Modelo -->
                <div class="section-card" id="seccion7">
                    <div class="section-header">
                        <div class="section-icon">‚ö†Ô∏è</div>
                        <div class="section-title">7. Riesgos del Modelo</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Evaluaci√≥n de Riesgos</label>
                            <div class="table-actions">
                                <button class="table-btn" onclick="agregarFila('tablaRiesgosModelo')">+ Agregar Fila</button>
                            </div>
                            <div class="table-container">
                                <table class="data-table" id="tablaRiesgosModelo">
                                    <thead>
                                        <tr>
                                            <th>Tipo de Riesgo</th>
                                            <th>Descripci√≥n</th>
                                            <th>Impacto</th>
                                            <th>Probabilidad</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <select>
                                                    <option value="">Seleccione</option>
                                                    <option value="tecnico">T√©cnico</option>
                                                    <option value="operativo">Operativo</option>
                                                    <option value="etico">√âtico</option>
                                                    <option value="social">Social</option>
                                                    <option value="legal">Legal</option>
                                                </select>
                                            </td>
                                            <td><textarea placeholder="Descripci√≥n del riesgo"></textarea></td>
                                            <td>
                                                <select>
                                                    <option value="">Seleccione</option>
                                                    <option value="bajo">Bajo</option>
                                                    <option value="medio">Medio</option>
                                                    <option value="alto">Alto</option>
                                                </select>
                                            </td>
                                            <td>
                                                <select>
                                                    <option value="">Seleccione</option>
                                                    <option value="baja">Baja</option>
                                                    <option value="media">Media</option>
                                                    <option value="alta">Alta</option>
                                                </select>
                                            </td>
                                            <td><button class="table-btn remove" onclick="eliminarFila(this)">‚úï</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 8: Controles Implementados -->
                <div class="section-card" id="seccion8">
                    <div class="section-header">
                        <div class="section-icon">üõ°Ô∏è</div>
                        <div class="section-title">8. Controles Implementados</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Controles de Supervisi√≥n y Monitoreo</label>
                            <div class="table-actions">
                                <button class="table-btn" onclick="agregarFila('tablaControlesModelo')">+ Agregar Fila</button>
                            </div>
                            <div class="table-container">
                                <table class="data-table" id="tablaControlesModelo">
                                    <thead>
                                        <tr>
                                            <th>Tipo de Control</th>
                                            <th>Descripci√≥n</th>
                                            <th>Frecuencia</th>
                                            <th>Responsable</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <select>
                                                    <option value="">Seleccione</option>
                                                    <option value="supervision">Supervisi√≥n humana</option>
                                                    <option value="monitoreo">Monitoreo continuo</option>
                                                    <option value="alerta">Sistema de alertas</option>
                                                    <option value="auditoria">Auditor√≠a</option>
                                                    <option value="reentrenamiento">Reentrenamiento</option>
                                                </select>
                                            </td>
                                            <td><textarea placeholder="Descripci√≥n del control"></textarea></td>
                                            <td><input type="text" placeholder="Ej: Semanal, Mensual"></td>
                                            <td><input type="text" placeholder="Responsable"></td>
                                            <td><button class="table-btn remove" onclick="eliminarFila(this)">‚úï</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 9: Explicabilidad y Transparencia -->
                <div class="section-card" id="seccion9">
                    <div class="section-header">
                        <div class="section-icon">üîç</div>
                        <div class="section-title">9. Explicabilidad y Transparencia</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloTecnicasExplicabilidad">
                                T√©cnicas de explicabilidad utilizadas
                                <span class="helper-icon" title="M√©todos para hacer comprensible el funcionamiento del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloTecnicasExplicabilidad" class="form-control" placeholder="Ej: SHAP, LIME, an√°lisis de caracter√≠sticas"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloInformacionPublica">
                                Informaci√≥n p√∫blica disponible
                                <span class="helper-icon" title="Informaci√≥n sobre el modelo disponible para el p√∫blico">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloInformacionPublica" class="form-control" placeholder="Describa la informaci√≥n p√∫blica disponible"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloMecanismosRendicionCuentas">
                                Mecanismos de rendici√≥n de cuentas
                                <span class="helper-icon" title="Procedimientos para explicar y justificar decisiones del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloMecanismosRendicionCuentas" class="form-control" placeholder="Describa los mecanismos de rendici√≥n de cuentas"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 10: Reglas de Uso Responsable -->
                <div class="section-card" id="seccion10">
                    <div class="section-header">
                        <div class="section-icon">üìã</div>
                        <div class="section-title">10. Reglas de Uso Responsable</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloUsosPermitidos">
                                Usos permitidos
                                <span class="helper-icon" title="Aplicaciones autorizadas para el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloUsosPermitidos" class="form-control required-field" placeholder="Liste los usos permitidos"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloUsosRestringidos">
                                Usos restringidos
                                <span class="helper-icon" title="Aplicaciones con restricciones espec√≠ficas">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloUsosRestringidos" class="form-control" placeholder="Liste los usos restringidos"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloUsosProhibidos">
                                Usos prohibidos
                                <span class="helper-icon" title="Aplicaciones expresamente prohibidas">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloUsosProhibidos" class="form-control required-field" placeholder="Liste los usos prohibidos"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloBuenasPracticas">
                                Buenas pr√°cticas operativas
                                <span class="helper-icon" title="Recomendaciones para el uso adecuado del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloBuenasPracticas" class="form-control" placeholder="Describa las buenas pr√°cticas"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 11: Entradas y Salidas del Modelo -->
                <div class="section-card" id="seccion11">
                    <div class="section-header">
                        <div class="section-icon">üîÑ</div>
                        <div class="section-title">11. Entradas y Salidas del Modelo</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloEntradas">
                                Tipos de datos de entrada
                                <span class="helper-icon" title="Formatos y tipos de datos que acepta el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloEntradas" class="form-control required-field" placeholder="Describa los tipos de datos de entrada"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloSalidas">
                                Tipos de predicciones/salidas generadas
                                <span class="helper-icon" title="Formatos y tipos de resultados que produce el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloSalidas" class="form-control required-field" placeholder="Describa los tipos de salidas"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 12: Monitoreo y Mantenimiento -->
                <div class="section-card" id="seccion12">
                    <div class="section-header">
                        <div class="section-icon">üìä</div>
                        <div class="section-title">12. Monitoreo y Mantenimiento</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label for="modeloIndicadoresDesempeno">
                                Indicadores de desempe√±o
                                <span class="helper-icon" title="M√©tricas para evaluar el rendimiento del modelo">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloIndicadoresDesempeno" class="form-control" placeholder="Liste los indicadores de desempe√±o"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="modeloFrecuenciaReentrenamiento">
                                Frecuencia de reentrenamiento
                                <span class="helper-icon" title="Periodicidad para actualizar el modelo">‚ÑπÔ∏è</span>
                            </label>
                            <input type="text" id="modeloFrecuenciaReentrenamiento" class="form-control" placeholder="Ej: Semestral, Anual">
                        </div>
                        <div class="form-group">
                            <label for="modeloControlesDrift">
                                Controles de drift
                                <span class="helper-icon" title="Mecanismos para detectar cambios en los datos">‚ÑπÔ∏è</span>
                            </label>
                            <textarea id="modeloControlesDrift" class="form-control" placeholder="Describa los controles de drift"></textarea>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 13: Historial de Cambios -->
                <div class="section-card" id="seccion13">
                    <div class="section-header">
                        <div class="section-icon">üìö</div>
                        <div class="section-title">13. Historial de Cambios</div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Registro de Versiones</label>
                            <div class="table-actions">
                                <button class="table-btn" onclick="agregarFila('tablaHistorialModelo')">+ Agregar Fila</button>
                            </div>
                            <div class="table-container">
                                <table class="data-table" id="tablaHistorialModelo">
                                    <thead>
                                        <tr>
                                            <th>Versi√≥n</th>
                                            <th>Fecha</th>
                                            <th>Ajustes realizados</th>
                                            <th>Responsable</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><input type="text" placeholder="Ej: v1.0"></td>
                                            <td><input type="date"></td>
                                            <td><textarea placeholder="Describa los ajustes"></textarea></td>
                                            <td><input type="text" placeholder="Responsable"></td>
                                            <td><button class="table-btn remove" onclick="eliminarFila(this)">‚úï</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n 14: Aprobaciones -->
                <div class="section-card" id="seccion14">
                    <div class="section-header">
                        <div class="section-icon">‚úÖ</div>
                        <div class="section-title">14. Aprobaciones</div>
                    </div>
                    <div class="section-content">
                        <div class="approval-section">
                            <div class="approval-item">
                                <div class="approval-title">
                                    Equipo t√©cnico
                                    <span class="helper-icon" title="Aprobaci√≥n del equipo t√©cnico responsable">‚ÑπÔ∏è</span>
                                </div>
                                <textarea id="modeloAprobacionTecnica" class="form-control" placeholder="Evaluaci√≥n y aprobaci√≥n del equipo t√©cnico"></textarea>
                            </div>
                            
                            <div class="approval-item">
                                <div class="approval-title">
                                    √Årea jur√≠dica
                                    <span class="helper-icon" title="Aprobaci√≥n del √°rea jur√≠dica">‚ÑπÔ∏è</span>
                                </div>
                                <textarea id="modeloAprobacionJuridica" class="form-control" placeholder="Evaluaci√≥n y aprobaci√≥n del √°rea jur√≠dica"></textarea>
                            </div>
                            
                            <div class="approval-item">
                                <div class="approval-title">
                                    Delegado de Protecci√≥n de Datos
                                    <span class="helper-icon" title="Aprobaci√≥n del Delegado de Protecci√≥n de Datos">‚ÑπÔ∏è</span>
                                </div>
                                <textarea id="modeloAprobacionDPO" class="form-control" placeholder="Evaluaci√≥n y aprobaci√≥n del DPO"></textarea>
                            </div>
                            
                            <div class="approval-item">
                                <div class="approval-title">
                                    Comit√© Distrital de IA
                                    <span class="helper-icon" title="Aprobaci√≥n del Comit√© Distrital de IA">‚ÑπÔ∏è</span>
                                </div>
                                <textarea id="modeloAprobacionComiteIA" class="form-control" placeholder="Evaluaci√≥n y aprobaci√≥n del Comit√© de IA"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
    // Objeto global para almacenar los datos
    let modelCardData = {};

    // Tablas del formulario
    const tablasModelCard = [
        'tablaMetricasGlobales',
        'tablaMetricasSubpoblaciones',
        'tablaRiesgosModelo',
        'tablaControlesModelo',
        'tablaHistorialModelo'
    ];

    // Inicializaci√≥n al cargar la p√°gina
    window.addEventListener('DOMContentLoaded', function() {
        inicializarEventListeners();
        console.log('Toolkit Model Cards cargado correctamente');
    });

    // Funci√≥n para inicializar todos los event listeners
    function inicializarEventListeners() {
        // Navegaci√≥n entre secciones
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Importar desde JSON
        document.getElementById('jsonFileInput').addEventListener('change', importarDesdeJSON);
    }

    // Funci√≥n para exportar a JSON
    function exportarJSON() {
        recopilarDatosModelCard();
        const jsonString = JSON.stringify(modelCardData, null, 2);
        const blob = new Blob([jsonString], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        
        const a = document.createElement('a');
        a.href = url;
        a.download = `model-card-${new Date().toISOString().split('T')[0]}.json`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        alert('Model Card exportado exitosamente como JSON.');
    }

    // Funci√≥n para importar desde JSON
    function importarDesdeJSON(e) {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                const datosImportados = JSON.parse(e.target.result);
                cargarDatosModelCard(datosImportados);
                alert('Model Card importado exitosamente desde JSON.');
            } catch (error) {
                alert('Error al importar el archivo JSON: ' + error.message);
            }
        };
        reader.readAsText(file);
        e.target.value = '';
    }

    // Funci√≥n para recopilar datos del Model Card
    function recopilarDatosModelCard() {
        modelCardData = {};

        // Recopilar campos individuales
        document.querySelectorAll('#model-card-content input, #model-card-content textarea, #model-card-content select').forEach(element => {
            if (element.id && !element.closest('.data-table')) {
                modelCardData[element.id] = element.value;
            }
        });

        // Recopilar datos de tablas Model Card
        tablasModelCard.forEach(tablaId => {
            const tabla = document.getElementById(tablaId);
            if (tabla) {
                modelCardData[tablaId] = obtenerDatosTabla(tabla);
            }
        });

        return modelCardData;
    }

    // Funci√≥n auxiliar para obtener datos de tabla
    function obtenerDatosTabla(table) {
        const tableData = [];
        const headers = Array.from(table.querySelectorAll('thead th')).map(th => th.textContent.trim());
        
        table.querySelectorAll('tbody tr').forEach(row => {
            const rowData = {};
            const cells = row.querySelectorAll('td');
            
            cells.forEach((cell, cellIndex) => {
                const header = headers[cellIndex];
                const input = cell.querySelector('input, textarea, select');
                
                if (input && header && header !== 'Acciones') {
                    rowData[header] = input.value;
                }
            });
            
            if (Object.keys(rowData).length > 0) {
                tableData.push(rowData);
            }
        });
        
        return tableData;
    }

    // Funci√≥n para cargar datos en el Model Card
    function cargarDatosModelCard(datos) {
        limpiarFormulario();
        
        // Cargar datos
        for (const [key, value] of Object.entries(datos)) {
            if (tablasModelCard.includes(key)) {
                // Es una tabla
                const tabla = document.getElementById(key);
                if (tabla && Array.isArray(value)) {
                    cargarDatosTabla(tabla, value);
                }
            } else {
                // Es un campo individual
                const element = document.getElementById(key);
                if (element) {
                    if (element.tagName === 'SELECT') {
                        // Para selects, buscar la opci√≥n que coincida con el valor
                        const options = element.querySelectorAll('option');
                        let found = false;
                        options.forEach(option => {
                            if (option.value === value || option.textContent.trim() === value) {
                                element.value = option.value;
                                found = true;
                            }
                        });
                        if (!found) {
                            element.value = value; // Fallback
                        }
                    } else {
                        element.value = value;
                    }
                }
            }
        }
    }

    // Funci√≥n auxiliar para cargar datos en tabla
    function cargarDatosTabla(table, datosTabla) {
        const tbody = table.querySelector('tbody');
        const filaOriginal = tbody.querySelector('tr');
        
        // Limpiar tabla (excepto primera fila)
        while (tbody.children.length > 1) {
            tbody.removeChild(tbody.lastChild);
        }
        
        // Cargar datos en filas existentes o crear nuevas
        datosTabla.forEach((fila, index) => {
            let filaElement;
            
            if (index === 0) {
                filaElement = tbody.querySelector('tr');
            } else {
                filaElement = filaOriginal.cloneNode(true);
                tbody.appendChild(filaElement);
            }
            
            // Limpiar valores de la fila
            filaElement.querySelectorAll('input, textarea, select').forEach(input => {
                if (input.type !== 'button') {
                    input.value = '';
                }
            });
            
            // Cargar datos en la fila
            for (const [header, valor] of Object.entries(fila)) {
                const indiceHeader = Array.from(table.querySelectorAll('thead th'))
                    .findIndex(th => th.textContent.trim() === header);
                
                if (indiceHeader !== -1) {
                    const celda = filaElement.querySelectorAll('td')[indiceHeader];
                    if (celda) {
                        const input = celda.querySelector('input, textarea, select');
                        if (input) {
                            if (input.tagName === 'SELECT') {
                                // Para selects, buscar la opci√≥n que coincida con el valor
                                const options = input.querySelectorAll('option');
                                let found = false;
                                options.forEach(option => {
                                    if (option.value === valor || option.textContent.trim() === valor) {
                                        input.value = option.value;
                                        found = true;
                                    }
                                });
                                if (!found) {
                                    input.value = valor; // Fallback
                                }
                            } else {
                                input.value = valor;
                            }
                        }
                    }
                }
            }
        });
    }

    // Funci√≥n para agregar fila a tabla
    function agregarFila(tablaId) {
        const tabla = document.getElementById(tablaId);
        if (!tabla) return;
        
        const tbody = tabla.querySelector('tbody');
        const ultimaFila = tbody.querySelector('tr:last-child');
        const nuevaFila = ultimaFila.cloneNode(true);
        
        // Limpiar valores de la nueva fila
        nuevaFila.querySelectorAll('input, textarea, select').forEach(input => {
            if (input.type !== 'button') {
                input.value = '';
            }
        });
        
        tbody.appendChild(nuevaFila);
    }

    // Funci√≥n para eliminar fila de tabla
    function eliminarFila(boton) {
        const fila = boton.closest('tr');
        const tbody = fila.parentElement;
        
        // No eliminar si es la √∫nica fila
        if (tbody.children.length > 1) {
            fila.remove();
        } else {
            alert('No se puede eliminar la √∫ltima fila de la tabla.');
        }
    }

    // Funci√≥n para cargar ejemplo completo
    function cargarEjemplo() {
        const ejemploModelCard = {
            modeloNombre: "Clasificador de PQRS Bogot√°",
            modeloVersion: "v1.0",
            modeloEntidad: "Secretar√≠a Distrital de Gobierno",
            modeloArea: "Direcci√≥n de Atenci√≥n al Ciudadano",
            modeloFechaCreacion: "2025-03-10",
            modeloEstado: "pruebas",
            modeloObjetivo: "Clasificar autom√°ticamente las solicitudes ciudadanas (PQRS) en categor√≠as tem√°ticas para reducir tiempos de respuesta",
            modeloCasoUso: "Soporte al proceso de gesti√≥n ciudadana",
            modeloAlcance: "Clasificaci√≥n preliminar, no toma decisiones finales",
            modeloProcesosImpactados: "Recepci√≥n, triage, asignaci√≥n de solicitudes",
            modeloUsuariosPrevistos: "Funcionarios de PQRS, equipo TIC",
            modeloTipo: "nlp",
            modeloAlgoritmo: "BERT fine-tuning (transformer pre-entrenado)",
            modeloArquitectura: "Modelo de lenguaje contextual + capa densa de clasificaci√≥n",
            modeloTecnologias: "Python, TensorFlow, HuggingFace Transformers, API REST para inferencia",
            modeloDatasetEntrenamiento: "Dataset de Solicitudes Ciudadanas Bogot√° 2018-2024 (1.2M registros). Entrenamiento: 70% de los datos",
            modeloDatasetValidacion: "15% de los datos",
            modeloDatasetPruebas: "15% de los datos",
            modeloReferenciaDataSheet: "versi√≥n 1.0 - actualizado 01/03/2025",
            modeloSesgosIdentificados: "Subrepresentaci√≥n de localidades rurales ‚Üí menor precisi√≥n. Solicitudes de adultos mayores presentan textos m√°s cortos ‚Üí menor F1 (0.74)",
            modeloResultadosPruebasEquidad: "Mejor desempe√±o en quejas; menor en peticiones de informaci√≥n",
            modeloMedidasMitigacionSesgos: "Balanceo de muestras por localidad. Data augmentation para textos cortos. Validaci√≥n diferenciada por grupo",
            modeloTecnicasExplicabilidad: "LIME y SHAP para explicabilidad local; matriz de confusi√≥n por categor√≠a para visi√≥n global",
            modeloInformacionPublica: "Publicaci√≥n de versi√≥n ciudadana (resumen no t√©cnico) en el portal de datos abiertos",
            modeloMecanismosRendicionCuentas: "Comit√© de IA recibe reportes mensuales",
            modeloUsosPermitidos: "apoyo al triage, an√°lisis estad√≠stico, mejora de eficiencia",
            modeloUsosRestringidos: "toma de decisiones automatizadas sin revisi√≥n humana; perfilar ciudadanos; priorizaci√≥n autom√°tica de casos sensibles",
            modeloUsosProhibidos: "Situaciones NO recomendadas: cuando la descripci√≥n es menor de 5 palabras (alto error)",
            modeloBuenasPracticas: "Revisi√≥n humana obligatoria antes de enviar la solicitud al √°rea correspondiente",
            modeloEntradas: "texto libre de la descripci√≥n del ciudadano, metadatos opcionales (categor√≠a inicial, canal)",
            modeloSalidas: "categor√≠a sugerida entre 12 clases tem√°ticas",
            modeloIndicadoresDesempeno: "F1 por categor√≠a, tasa de drift, porcentaje de correcciones humanas",
            modeloFrecuenciaReentrenamiento: "semestral",
            modeloControlesDrift: "an√°lisis de distribuci√≥n del texto y nuevos patrones ling√º√≠sticos",
            modeloAprobacionTecnica: "El sistema funciona seg√∫n especificaciones t√©cnicas. Rendimiento dentro de par√°metros aceptables.",
            modeloAprobacionJuridica: "Cumple con el marco normativo aplicable. Base legal adecuada para el tratamiento.",
            modeloAprobacionDPO: "El sistema cumple con los principios de protecci√≥n de datos. Se recomienda revisi√≥n semestral.",
            modeloAprobacionComiteIA: "Aprobado - Acta 004/2025",
            tablaMetricasGlobales: [
                {
                    "M√©trica": "Exactitud",
                    "Valor": "0.89",
                    "Descripci√≥n": "Porcentaje de clasificaciones correctas"
                },
                {
                    "M√©trica": "Precisi√≥n macro",
                    "Valor": "0.87",
                    "Descripci√≥n": "Precisi√≥n promedio por categor√≠a"
                }
            ],
            tablaMetricasSubpoblaciones: [
                {
                    "Subpoblaci√≥n": "Localidades con menor conectividad (Sumapaz, Ciudad Bol√≠var)",
                    "M√©trica": "F1",
                    "Valor": "0.78",
                    "Observaciones": "Menor desempe√±o por variaciones ling√º√≠sticas"
                }
            ]
        };

        cargarDatosModelCard(ejemploModelCard);
        alert('Ejemplo de Model Card cargado exitosamente.');
    }

    // Funci√≥n para limpiar el formulario
    function limpiarFormulario() {
        // Limpiar todos los campos
        document.querySelectorAll('#model-card-content input, #model-card-content textarea, #model-card-content select').forEach(element => {
            if (element.type !== 'button') {
                element.value = '';
            }
        });
        
        // Limpiar tablas
        tablasModelCard.forEach(tablaId => {
            const tabla = document.getElementById(tablaId);
            if (tabla) {
                const tbody = tabla.querySelector('tbody');
                while (tbody.children.length > 1) {
                    tbody.removeChild(tbody.lastChild);
                }
                
                // Limpiar la primera fila
                tbody.querySelectorAll('input, textarea, select').forEach(input => {
                    if (input.type !== 'button') {
                        input.value = '';
                    }
                });
            }
        });
        
        // Reiniciar datos
        modelCardData = {};
    }

    // Funci√≥n para imprimir el formulario
    function imprimirFormulario() {
        window.print();
    }

    // Funci√≥n para validar campos requeridos antes de enviar
    function validarFormulario() {
        const camposRequeridos = document.querySelectorAll('#model-card-content .required-field');
        let valido = true;
        
        camposRequeridos.forEach(campo => {
            if (!campo.value.trim()) {
                campo.style.borderColor = 'red';
                valido = false;
            } else {
                campo.style.borderColor = '';
            }
        });
        
        if (!valido) {
            alert('Por favor complete todos los campos requeridos marcados en rojo.');
        }
        
        return valido;
    }
</script>
</body>
</html>